{"version":3,"sources":["outliner.js"],"names":["window","Outliner","makeLinks","h2_array","forEach","h2","ndx","setAttribute","setupToC","ul","document","createElement","classList","add","li","a","textContent","appendChild","doTheThing","selector","console","log","element","querySelector","h2s","querySelectorAll","toc","prepend","init"],"mappings":";;AAAA,CAAC,YAAW;AAER;AACJ;AACA;AACA;AACIA,EAAAA,MAAM,CAACC,QAAP,GAAmB,YAAW;AAE1B,aAASC,SAAT,CAAmBC,QAAnB,EAA6B;AACzBA,MAAAA,QAAQ,CAACC,OAAT,CAAiB,UAACC,EAAD,EAAKC,GAAL,EAAa;AAC1BD,QAAAA,EAAE,CAACE,YAAH,CAAgB,IAAhB,oBAAiCD,GAAjC,GAD0B,CACc;AAC3C,OAFD;AAGH;;AAED,aAASE,QAAT,CAAkBL,QAAlB,EAA4B;AAExB,UAAMM,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;AACAF,MAAAA,EAAE,CAACG,SAAH,CAAaC,GAAb,CAAiB,KAAjB;AAEAV,MAAAA,QAAQ,CAACC,OAAT,CAAiB,UAACC,EAAD,EAAKC,GAAL,EAAa;AAC1B,YAAMQ,EAAE,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;AACA,YAAMI,CAAC,GAAGL,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV;AACAI,QAAAA,CAAC,CAACR,YAAF,CAAe,MAAf,qBAAmCD,GAAnC;AACAS,QAAAA,CAAC,CAACC,WAAF,GAAgBX,EAAE,CAACW,WAAnB;AAEAF,QAAAA,EAAE,CAACG,WAAH,CAAeF,CAAf;AACAN,QAAAA,EAAE,CAACQ,WAAH,CAAeH,EAAf;AACH,OARD;AAUA,aAAOL,EAAP;AACH;;AAED,aAASS,UAAT,CAAoBC,QAApB,EAA8B;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,QAApB;AAEA,UAAMG,OAAO,GAAGZ,QAAQ,CAACa,aAAT,CAAuBJ,QAAvB,CAAhB;AACA,UAAMK,GAAG,GAAGF,OAAO,CAACG,gBAAR,CAAyB,IAAzB,CAAZ;AAEAvB,MAAAA,SAAS,CAACsB,GAAD,CAAT;AAEA,UAAME,GAAG,GAAGlB,QAAQ,CAACgB,GAAD,CAApB;AACAF,MAAAA,OAAO,CAACK,OAAR,CAAgBD,GAAhB;AACH;;AAED,WAAO;AACHE,MAAAA,IAAI,EAAEV;AADH,KAAP;AAIH,GA1CiB,EAAlB;AA4CH,CAlDD","sourcesContent":["(function() {\n\n    /**\n     * Will identify all H2s, create links for each, and then\n     * add a table of contents to the DOM\n     */\n    window.Outliner = (function() {\n\n        function makeLinks(h2_array) {\n            h2_array.forEach((h2, ndx) => {\n                h2.setAttribute(\"id\", `section-${ndx}`) // \"section-\" + ndx\n            })\n        }\n\n        function setupToC(h2_array) {\n\n            const ul = document.createElement(\"ul\");\n            ul.classList.add(\"toc\");\n\n            h2_array.forEach((h2, ndx) => {\n                const li = document.createElement(\"li\");\n                const a = document.createElement(\"a\");\n                a.setAttribute(\"href\", `#section-${ndx}`);\n                a.textContent = h2.textContent;\n\n                li.appendChild(a);\n                ul.appendChild(li);\n            });\n\n            return ul;\n        }\n\n        function doTheThing(selector) {\n            console.log('init', selector);\n\n            const element = document.querySelector(selector);\n            const h2s = element.querySelectorAll(\"h2\");\n\n            makeLinks(h2s);\n\n            const toc = setupToC(h2s);\n            element.prepend(toc);\n        }\n\n        return {\n            init: doTheThing\n        }\n\n    })();\n    \n})();"],"file":"outliner.js"}